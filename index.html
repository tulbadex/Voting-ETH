<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlockVote | Secure Voting DApp</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.1/ethers.umd.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo pulse">
                <i class="fas fa-vote-yea"></i>
            </div>
            <h1>BlockVote</h1>
            <p>Secure blockchain-based voting on the Ethereum network</p>
        </header>

        <div class="tabs">
            <div class="tab active">Vote</div>
            <div class="tab">Results</div>
            <div class="tab">About</div>
        </div>

        <div class="grid">
            <div class="card">
                <div class="card-content">
                    <h2><i class="fas fa-wallet"></i> Wallet Connection</h2>
                    <div id="connectionStatus" class="status disconnected">
                        <i class="fas fa-plug"></i> Not connected to wallet
                    </div>
                    <button id="connectBtn" class="btn">
                        <i class="fab fa-ethereum"></i> Connect MetaMask
                    </button>

                    <div id="balanceSection" style="display: none; margin-top: 30px;">
                        <h2><i class="fas fa-coins"></i> Account Balance</h2>
                        <div class="balance-display">
                            <div class="balance-label">Your Sepolia Balance</div>
                            <div id="accountBalance" class="balance-amount">0.0000 ETH</div>
                        </div>
                        <button id="refreshBalanceBtn" class="btn btn-secondary">
                            <i class="fas fa-sync-alt"></i> Refresh Balance
                        </button>
                    </div>
                    
                    <!-- ETH Transfer Section -->
                    <div id="transferSection" style="display: none; margin-top: 30px;">
                        <h2><i class="fas fa-paper-plane"></i> Transfer ETH</h2>
                        <div class="input-group">
                            <label for="recipientAddress">Recipient Address:</label>
                            <input type="text" id="recipientAddress" placeholder="0x..." />
                        </div>
                        <div class="input-group">
                            <label for="ethAmount">Amount (ETH):</label>
                            <input type="number" id="ethAmount" placeholder="0.01" step="0.001" min="0" />
                        </div>
                        <button id="sendEthBtn" class="btn">
                            <i class="fas fa-paper-plane"></i> Send ETH
                        </button>
                        <div id="sendResult"></div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-content">
                    <h2><i class="fas fa-vote-yea"></i> Cast Your Vote</h2>
                    <div class="contract-info">
                        <p><span class="info-label">Contract Address:</span> 
                        <span class="info-value" id="contractAddress">0x35cd167FA931C6c5E07AbB2621846FC35D54baD6</span></p>
                        <p><span class="info-label">Network:</span> 
                        <span class="info-value">Sepolia Testnet (Chain ID: 11155111)</span></p>
                        <p><span class="info-label">Voting Cost:</span> 
                        <span class="info-value">Gas fee only</span></p>
                    </div>

                    <div id="votingSection" style="display: none;">
                        <div class="vote-buttons">
                            <button id="vote1Btn" class="vote-btn proposal1">
                                <div class="proposal-title">Proposal 1</div>
                                <div>Ecosystem Upgrade</div>
                                <div class="proposal-description">Improve network efficiency</div>
                            </button>
                            <button id="vote2Btn" class="vote-btn proposal2">
                                <div class="proposal-title">Proposal 2</div>
                                <div>Community Fund</div>
                                <div class="proposal-description">Support new projects</div>
                            </button>
                        </div>

                        <div id="votingResult"></div>

                        <div class="result-container">
                            <div class="result-box result1">
                                <div>Proposal 1 Votes</div>
                                <div class="result-value" id="result1">42</div>
                            </div>
                            <div class="result-box result2">
                                <div>Proposal 2 Votes</div>
                                <div class="result-value" id="result2">38</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-content">
                <h2><i class="fas fa-info-circle"></i> How It Works</h2>
                <div class="contract-info">
                    <ul class="how-it-works">
                        <li>Connect your MetaMask wallet to the Sepolia test network</li>
                        <li>Ensure you have SepoliaETH for transaction fees</li>
                        <li>Vote for your preferred proposal with one click</li>
                        <li>Transfer ETH to other wallets securely</li>
                        <li>Each wallet can vote only once per proposal period</li>
                        <li>Results are recorded immutably on the blockchain</li>
                        <li>View real-time voting results updated automatically</li>
                    </ul>
                </div>
            </div>
        </div>

        <footer>
            <p>BlockVote DApp - Decentralized Voting on Ethereum | Sepolia Testnet</p>
            <p>Secure • Transparent • Trustless</p>
            <p>&copy; <span id="date"></span> BlockVote. All rights reserved.</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>